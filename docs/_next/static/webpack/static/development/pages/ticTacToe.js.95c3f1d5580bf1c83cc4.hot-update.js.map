{"version":3,"file":"static/webpack/static/development/pages/ticTacToe.js.95c3f1d5580bf1c83cc4.hot-update.js","sources":["webpack:///./src/components/TicTacToe/Board.tsx"],"sourcesContent":["import React, { FC, useCallback } from 'react';\nimport { css } from '@emotion/core';\nimport rem from '../../utils/style/rem';\nimport buttonReset from '../../utils/style/buttonReset';\n\nconst boardStylesOnColNum = (colNum: number) => css`\n  max-width: ${rem(80 * colNum)};\n  margin: ${rem(20)} auto;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: repeat(${colNum}, 1fr);\n  grid-gap: 0;\n  grid-auto-rows: auto;\n  border: ${rem(2)} solid transparent;\n\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n`;\n\nconst cellStyles = css`\n  ${buttonReset};\n  cursor: pointer;\n  // border: ${rem(1)} solid transparent;\n  width: 50%;\n  position: relative;\n  &::before {\n    display: block;\n    width: 100%;\n    content: '';\n    padding-bottom: calc(100% - ${rem(2 * 7)});\n    margin: ${rem(5)};\n    border: ${rem(2)} solid gray;\n  }\n\n  @media only screen and (max-width: 400px) {\n    &::before {\n      padding-bottom: calc(100% - ${rem(2 * 3)});\n      margin: ${rem(2)};\n      border: ${rem(1)} solid gray;\n    }\n  }\n`;\n\nconst checkerStyles = css`\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: 0;\n  height: 0;\n  display: table;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const playerCheckerStyles = [\n  css`\n    border-color: gray;\n    background: yellow;\n    content: 'O';\n  `,\n  css`\n    border-color: lightgray;\n    background: red;\n    content: 'X;\n  `,\n];\n\ninterface Props {\n  rowNum: number;\n  boards: number[][];\n  onClickOnCell(colInd: number, rowInd: number): (e: React.MouseEvent) => void;\n}\n\nconst Board: FC<Props> = ({ rowNum, boards, onClickOnCell }) => {\n  const colNum = boards[0].length;\n\n  const boardStyles = boardStylesOnColNum(colNum);\n\n  const cellGridPos = useCallback(\n    (rowInd: number, colInd: number) => css`\n      grid-row: ${rowNum - rowInd} / span 1;\n      grid-column: ${colInd + 1} / span 1;\n    `,\n    [rowNum]\n  );\n\n  return (\n    <div css={boardStyles}>\n      {boards[0].map((_c, colInd) =>\n        Array.from(Array(rowNum), (_r, rowInd) => (\n          <button\n            type=\"button\"\n            aria-label=\"board\"\n            // eslint-disable-next-line react/no-array-index-key\n            key={`cell-${colInd}-${rowInd}`}\n            css={[cellStyles, cellGridPos(rowInd, colInd)]}\n            onClick={onClickOnCell(colInd, rowInd)}\n          >\n            <div\n              css={[\n                checkerStyles,\n                boards.reduce(\n                  (result, _n, ind) =>\n                    (boards[ind][colInd] & (1 << rowInd) && playerCheckerStyles[ind]) || result,\n                  css``\n                ),\n              ]}\n            />\n          </button>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AAAA;AAAA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;AAkBA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAGA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AADA;AAyBA;AACA;AACA;;;;A","sourceRoot":""}